package br.com.yokohama.seguros.view;

import java.awt.Color;
import java.awt.EventQueue;
import java.awt.Font;
import java.awt.image.BufferedImage;
import java.io.IOException;

import javax.imageio.ImageIO;
import javax.swing.DefaultComboBoxModel;
import javax.swing.ImageIcon;
import javax.swing.JButton;
import javax.swing.JCheckBox;
import javax.swing.JComboBox;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JTextArea;
import javax.swing.JTextField;
import javax.swing.UIManager;

import com.formdev.flatlaf.FlatLightLaf;

public class AcionarSinistro extends JFrame {

	private static final long serialVersionUID = 1L;
	private JPanel contentPane;
	private JTextField loca;

	public static void main(String[] args) {
		FlatLightLaf.setup();
		UIManager.put("Button.arc", 25);
		UIManager.put("CheckBox.background", Color.white);
		UIManager.put("TextComponent.arc", 10);
		UIManager.put("TitlePane.inactiveForeground", true);
		EventQueue.invokeLater(new Runnable() {
			public void run() {
				try {
					AcionarSinistro frame = new AcionarSinistro();
					frame.setLocationRelativeTo(null);
					frame.setVisible(true);
				} catch (Exception e) {
					e.printStackTrace();
				}
			}
		});
	}
	
	// Método para carregar imagens
	public BufferedImage carregaImagen(String str) {
		try {
			return ImageIO.read(AtualizaAuto.class.getResource(str));
		} catch (IOException e) {
			e.printStackTrace();
			return null;
		}
	}

	public AcionarSinistro() {
		setResizable(false);
		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		setSize(1366, 768);
		contentPane = new JPanel();
		contentPane.setBackground(new Color(255, 255, 255));
		contentPane.setBorder(null);

		setContentPane(contentPane);
		contentPane.setLayout(null);

		// Logo
		JLabel logo = new JLabel("");
		logo.setIcon(new ImageIcon(carregaImagen("/images/image3.png")));
		logo.setBounds(10, -13, 186, 120);
		contentPane.add(logo);

		// Título
		JLabel sinistro = new JLabel("Acionar Sinistro");
		sinistro.setFont(new Font("Tahoma", Font.PLAIN, 35));
		sinistro.setBounds(556, 176, 238, 40);
		contentPane.add(sinistro);

		// Área de texto para observações
		JTextArea obsSinistro = new JTextArea();
		obsSinistro.setText("Observações:");
		obsSinistro.setBounds(667, 255, 408, 277);
		contentPane.add(obsSinistro);

		// Localização
		JLabel lblLocalizacao = new JLabel("Localização:");
		lblLocalizacao.setFont(new Font("Tahoma", Font.PLAIN, 15));
		lblLocalizacao.setBounds(268, 477, 215, 23);
		contentPane.add(lblLocalizacao);

		loca = new JTextField();
		loca.setBounds(314, 504, 118, 20);
		contentPane.add(loca);
		loca.setColumns(10);

		// Fundo botão de localização
		JButton fundoBtnLoc = new JButton("");
		fundoBtnLoc.setEnabled(false);
		fundoBtnLoc.setBackground(Color.WHITE);
		fundoBtnLoc.setBounds(268, 497, 208, 35);
		contentPane.add(fundoBtnLoc);

		// Tipo de serviço
		JLabel lblTipoDeServico = new JLabel("Tipo de serviço");
		lblTipoDeServico.setFont(new Font("Tahoma", Font.PLAIN, 15));
		lblTipoDeServico.setBounds(268, 422, 215, 23);
		contentPane.add(lblTipoDeServico);

		JComboBox<String> tpServico = new JComboBox<>();
		tpServico.setModel(new DefaultComboBoxModel<>(new String[] { "1 - Guincho", "2 - Polícia", "3 - Samu", "4 - Bombeiros" }));
		tpServico.setBounds(314, 452, 118, 21);
		contentPane.add(tpServico);

		// Fundo botão tipo de serviço
		JButton fundoBtnTpServico = new JButton("");
		fundoBtnTpServico.setEnabled(false);
		fundoBtnTpServico.setBackground(Color.WHITE);
		fundoBtnTpServico.setBounds(268, 445, 208, 35);
		contentPane.add(fundoBtnTpServico);

		// Grau de intensidade
		JLabel lblGrauIntensidade = new JLabel("Grau de intensidade:");
		lblGrauIntensidade.setFont(new Font("Tahoma", Font.PLAIN, 15));
		lblGrauIntensidade.setBounds(268, 366, 215, 23);
		contentPane.add(lblGrauIntensidade);

		JComboBox<String> grauIntensidade = new JComboBox<>();
		grauIntensidade.setModel(new DefaultComboBoxModel<>(new String[] {
			"1 - Somente ajuda para rebocar veículo", 
			"2 - Ajuda para pessoas", 
			"3 - Desvirar carro", 
			"4 - Apagar incêndio"
		}));
		grauIntensidade.setBounds(314, 397, 118, 21);
		contentPane.add(grauIntensidade);

		// Fundo botão grau de intensidade
		JButton fundoBtnIntensidade = new JButton("");
		fundoBtnIntensidade.setEnabled(false);
		fundoBtnIntensidade.setBackground(Color.WHITE);
		fundoBtnIntensidade.setBounds(268, 390, 208, 35);
		contentPane.add(fundoBtnIntensidade);

		// Evento causador
		JLabel lblCausador = new JLabel("Evento Causador:");
		lblCausador.setFont(new Font("Tahoma", Font.PLAIN, 15));
		lblCausador.setBounds(268, 314, 215, 23);
		contentPane.add(lblCausador);

		JComboBox<String> opcCausador = new JComboBox<>();
		opcCausador.setModel(new DefaultComboBoxModel<>(new String[] { "1 - Batida", "2 - Furto", "3 - Capotamento", "4 - Incêndio" }));
		opcCausador.setBounds(314, 341, 118, 21);
		contentPane.add(opcCausador);

		// Fundo botão evento causador
		JButton fundoBtnCausador = new JButton("");
		fundoBtnCausador.setEnabled(false);
		fundoBtnCausador.setBackground(Color.WHITE);
		fundoBtnCausador.setBounds(268, 335, 208, 35);
		contentPane.add(fundoBtnCausador);

        JLabel lblAssit = new JLabel("Assistência 24Hrs");
		lblAssit.setFont(new Font("Tahoma", Font.PLAIN, 19));
		lblAssit.setBounds(142, 154, 140, 23);
		contentPane.add(lblAssit);

		// Caixa de seleção para associado
		JLabel lblAssociado = new JLabel("O responsável é um associado?");
		lblAssociado.setFont(new Font("Tahoma", Font.PLAIN, 15));
		lblAssociado.setBounds(268, 254, 215, 23);
		contentPane.add(lblAssociado);

		JCheckBox sim = new JCheckBox("Sim");
		sim.setBackground(Color.WHITE);
		sim.setBounds(314, 284, 56, 23);
		contentPane.add(sim);

		JCheckBox nao = new JCheckBox("Não");
		nao.setBackground(Color.WHITE);
		nao.setBounds(391, 284, 56, 23);
		contentPane.add(nao);

		// Botão para validar
		JButton btnValidar = new JButton("Validar");
		btnValidar.setBounds(314, 550, 118, 30);
		contentPane.add(btnValidar);

		// Ação ao clicar no botão "Validar"
		btnValidar.addActionListener(e -> {
			StringBuilder mensagens = new StringBuilder();

			// Verifica se os combobox estão preenchidos
			if (tpServico.getSelectedIndex() == 0) {
				mensagens.append("- Tipo de serviço não selecionado.\n");
			}
			if (grauIntensidade.getSelectedIndex() == 0) {
				mensagens.append("- Grau de intensidade não selecionado.\n");
			}
			if (opcCausador.getSelectedIndex() == 0) {
				mensagens.append("- Evento causador não selecionado.\n");
			}

			// Verifica se o campo de localização está vazio
			if (loca.getText().trim().isEmpty()) {
				mensagens.append("- Campo de localização vazio.\n");
			}

			// Exibe mensagens de erro ou sucesso
			if (mensagens.length() > 0) {
				JOptionPane.showMessageDialog(
					null, 
					"Os seguintes erros foram encontrados:\n" + mensagens, 
					"Erro de Validação", 
					JOptionPane.ERROR_MESSAGE
				);
			} else {
				JOptionPane.showMessageDialog(
					null, 
					"Todos os campos foram preenchidos corretamente!", 
					"Validação Bem-Sucedida", 
					JOptionPane.INFORMATION_MESSAGE
				);
			}
		});
	}
}
